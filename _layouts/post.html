<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title }} · {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/layout.css' | relative_url }}">
</head>
<body>

{% include top-nav.html %}

{% if page.image %}
<!-- 顶部全屏横幅 -->
<section class="hero-banner" style="background-image:url('{{ page.image | relative_url }}')">
    <div class="hero-overlay"></div>
    <div class="hero-text">
        <h1 class="hero-title">{{ page.title }}</h1>
        {% if page.subtitle %}
        <p class="hero-subtitle">{{ page.subtitle }}</p>
        {% endif %}
        {% if page.date %}
        <p class="hero-date">{{ page.date | date: "%b %d, %Y" }}</p>
        {% endif %}
    </div>
</section>
{% else %}
<!-- 无封面时 -->
<section class="hero-plain wrap">
    <h1 class="post-h1">{{ page.title }}</h1>
    {% if page.subtitle %}
    <p class="post-subtitle">{{ page.subtitle }}</p>
    {% endif %}
    {% if page.date %}
    <p class="post-meta">{{ page.date | date: "%b %d, %Y" }}</p>
    {% endif %}
</section>
{% endif %}

<main class="wrap post center">
    {% include toc.html %}
    <article class="post-body">
        {{ content }}

        <!-- 🏷️ 标签显示 -->
        {% if page.tags and page.tags.size > 0 %}
        <hr class="post-sep">
        <div class="post-tags">
            <span class="post-tags__label">Tags:</span>
            {% for tag in page.tags %}
            <a
                    class="tag-chip"
                    href="{{ '/archive/' | relative_url }}#tag-{{ tag | slugify }}"
                    title="See posts tagged {{ tag }}"
            >#{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}

        {% if page.comments == true %}
        {% include giscus.html %}
        {% endif %}
    </article>
</main>

{% include footer.html %}

<script src="{{ '/assets/js/toc.js' | relative_url }}" defer></script>

</body>
</html>